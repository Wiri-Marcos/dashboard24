<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Security 24h - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      body {
        font-family: 'Roboto', Arial, sans-serif;
        margin: 0;
        background: linear-gradient(135deg, #10182a 60%, #1e293b 100%);
        min-height: 100vh;
        color: #e6e6e6;
      }
      .header {
        text-align: center;
        padding-top: 32px;
        margin-bottom: 10px;
        position: sticky;
        top: 0;
        z-index: 100;
        background: rgba(16,24,42,0.98);
        box-shadow: 0 2px 12px 0 rgba(34,211,238,0.08);
        border-bottom-left-radius: 18px;
        border-bottom-right-radius: 18px;
        padding-bottom: 12px;
      }
      .header h1 {
        font-size: 2.6em;
        font-weight: 900;
        letter-spacing: 2px;
        margin: 0;
        background: linear-gradient(90deg, #2dd4bf 40%, #22d3ee 60%, #22c55e 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 2px;
      }
      .header p {
        margin: 8px 0 0 0;
        font-size: 1.15em;
        color: #b0b8c1;
      }
      .header .atualiza {
        margin-top: 8px;
        font-size: 0.98em;
        color: #22d3ee;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }
      .header .atualiza i {
        color: #22c55e;
        font-size: 0.8em;
      }
      /* Corrige: só o card de OSs Pendentes tem largura fixa e animada, os outros voltam ao layout flexível */
      .dashboard {
        display: flex;
        gap: 32px;
        justify-content: center;
        margin-top: 32px;
        flex-wrap: wrap;
        padding-bottom: 24px;
      }
      .card {
        background: #19213a;
        border-radius: 22px;
        box-shadow: 0 6px 32px 0 rgba(34,211,238,0.10), 0 1.5px 6px 0 rgba(34,197,94,0.08);
        padding: 28px 28px 22px 28px;
        min-width: 320px;
        max-width: 340px;
        flex: 1 1 320px;
        display: flex;
        flex-direction: column;
        position: relative;
        margin-bottom: 22px;
        transition: box-shadow 0.2s, transform 0.2s;
        border: 1.5px solid rgba(34,211,238,0.08);
      }
      #card_os_atrasadas {
        transition: max-width 0.4s cubic-bezier(0.4, 0, 0.2, 1), min-width 0.4s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.2s, transform 0.2s;
        overflow: hidden;
      }
      #card_os_atrasadas.card-expand {
        max-width: 340px;
        min-width: 320px;
      }
      .card:active, .card:focus-within {
        box-shadow: 0 8px 40px 0 rgba(34,211,238,0.18), 0 2px 8px 0 rgba(34,197,94,0.12);
        transform: scale(0.98);
      }
      .card .card-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
      }
      .card .card-header .icon {
        font-size: 1.3em;
        margin-right: 2px;
      }
      .card .card-header .badge {
        font-size: 0.95em;
        font-weight: 600;
        border-radius: 8px;
        padding: 2px 12px;
        margin-left: auto;
        display: flex;
        align-items: center;
      }
      .badge-critico {
        background: #2e1a1a;
        color: #ff5c5c;
        border: 1px solid #ff5c5c;
      }
      .badge-alerta {
        background: #3a2e1a;
        color: #ffc857;
        border: 1px solid #ffc857;
      }
      .badge-metrica {
        background: #1a263a;
        color: #22d3ee;
        border: 1px solid #22d3ee;
      }
      .card .valor {
        font-size: 2.6em;
        font-weight: 700;
        color: #22a6f2;
        margin: 0 0 8px 0;
      }
      .card .valor.percentual {
        color: #22c55e;
      }
      .card .descricao {
        font-size: 1em;
        color: #b0b8c1;
        margin-top: 8px;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .progress-bar {
        width: 100%;
        height: 8px;
        background: linear-gradient(90deg, #232c43 60%, #1e293b 100%);
        border-radius: 6px;
        margin: 12px 0 6px 0;
        overflow: hidden;
      }
      .progress {
        height: 100%;
        background: linear-gradient(90deg, #22c55e 60%, #22d3ee 100%);
        border-radius: 6px;
        transition: width 0.5s;
        box-shadow: 0 1.5px 6px 0 rgba(34,197,94,0.10);
      }
      @media (max-width: 1100px) {
        .dashboard { flex-direction: column; align-items: center; gap: 18px; }
        .card { min-width: 260px; max-width: 98vw; }
      }
      /* Responsividade para tablets */
      @media (max-width: 768px) {
        .header {
          padding-top: 18px;
        }
        .header h1 {
          font-size: 2em;
        }
        .dashboard {
          gap: 12px;
          margin-top: 18px;
        }
        .card {
          min-width: 90vw;
          max-width: 98vw;
          padding: 18px 10px 14px 10px;
        }
        .card .valor {
          font-size: 2em;
        }
        .card .descricao {
          font-size: 0.98em;
        }
        .tecnicos-lista {
          font-size: 0.98em;
          padding: 8px 8px;
        }
      }
      /* Responsividade para celulares */
      @media (max-width: 480px) {
        .header {
          padding-top: 8px;
          padding-bottom: 8px;
          margin-bottom: 0;
          border-bottom-left-radius: 18px;
          border-bottom-right-radius: 18px;
          box-shadow: 0 2px 10px 0 rgba(34,211,238,0.10);
        }
        .header h1 {
          font-size: 2.1em; /* Aumenta o título no mobile */
          letter-spacing: 1.5px;
          margin-bottom: 0;
        }
        .header p {
          font-size: 1.08em;
          margin: 2px 0 0 0;
        }
        .dashboard {
          gap: 6px;
          margin-top: 8px;
          padding-bottom: 12px;
        }
        .card {
          min-width: 100vw;
          max-width: 100vw;
          width: 100vw;
          box-sizing: border-box;
          margin-left: -8px;
          margin-right: -8px;
          border-radius: 0 0 28px 28px;
          padding: 4px 0.5rem 8px 0.5rem;
          box-shadow: 0 2px 16px 0 rgba(34,211,238,0.13), 0 1px 4px 0 rgba(34,197,94,0.10);
          border: 1.5px solid rgba(34,211,238,0.13);
          position: relative;
          overflow: hidden;
        }
        .card .valor {
          font-size: 2.5em; /* Números maiores */
        }
        .card .descricao {
          font-size: 1em;
          margin-top: 4px;
        }
        .expand-btn {
          margin-left: 0;
          margin-top: 2px;
          font-size: 1em;
        }
        .tecnicos-lista {
          font-size: 0.98em;
          padding: 6px 4px;
          border-radius: 16px;
        }
        .progress-bar {
          height: 5px;
        }
        .top-list li {
          font-size: 1.1em;
          padding: 6px 8px;
          border-radius: 6px;
        }
        .badge-critico, .badge-alerta, .badge-metrica {
          font-size: 1em;
          padding: 2px 10px;
          border-radius: 7px;
        }
      }
      @media (max-width: 480px) {
        body {
          background: linear-gradient(135deg, #10182a 70%, #1e293b 100%);
        }
        .header {
          padding-top: 4px;
          padding-bottom: 4px;
          margin-bottom: 0;
          border-bottom-left-radius: 18px;
          border-bottom-right-radius: 18px;
          box-shadow: 0 2px 10px 0 rgba(34,211,238,0.10);
        }
        .header h1 {
          font-size: 1.25em;
          letter-spacing: 1.2px;
          margin-bottom: 0;
        }
        .header p {
          font-size: 0.95em;
          margin: 2px 0 0 0;
        }
        .dashboard {
          gap: 6px;
          margin-top: 8px;
          padding-bottom: 12px;
        }
        .card {
          min-width: 96vw;
          max-width: 98vw;
          padding: 8px 6px 10px 6px;
          border-radius: 28px;
          margin-bottom: 10px;
          box-shadow: 0 2px 16px 0 rgba(34,211,238,0.13), 0 1px 4px 0 rgba(34,197,94,0.10);
          border: 1.5px solid rgba(34,211,238,0.13);
          position: relative;
          overflow: hidden;
        }
        .card:before {
          content: '';
          position: absolute;
          inset: 0;
          border-radius: 32px;
          pointer-events: none;
          box-shadow: 0 0 0 2px rgba(34,211,238,0.10);
        }
        .card .card-header {
          flex-direction: row;
          align-items: center;
          gap: 4px;
          margin-bottom: 4px;
        }
        .card .valor {
          font-size: 1.5em;
        }
        .card .descricao {
          font-size: 0.95em;
          margin-top: 4px;
        }
        .expand-btn {
          margin-left: 0;
          margin-top: 2px;
          font-size: 1em;
        }
        .tecnicos-lista {
          font-size: 0.92em;
          padding: 6px 4px;
          border-radius: 16px;
        }
        .progress-bar {
          height: 5px;
        }
        .top-list li {
          font-size: 0.97em;
          padding: 4px 6px;
          border-radius: 6px;
        }
        .badge-critico, .badge-alerta, .badge-metrica {
          font-size: 0.90em;
          padding: 2px 8px;
          border-radius: 7px;
        }
      }
      /* Ajuste geral para mobile: centralizar cards e remover excesso de largura */
      @media (max-width: 480px) {
        .dashboard {
          flex-direction: column;
          align-items: center;
        }
      }
      @media (max-width: 480px) {
        .dashboard {
          flex-direction: column;
          align-items: stretch;
          gap: 10px;
        }
        .card {
          min-width: 100vw;
          max-width: 100vw;
          width: 100vw;
          box-sizing: border-box;
          margin-left: -8px;
          margin-right: -8px;
          border-radius: 0 0 28px 28px;
          padding-left: 0.5rem;
          padding-right: 0.5rem;
        }
      }
      .card-expand {
        /* Remove max-width/min-width para manter largura igual */
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.28);
        transition: box-shadow 0.3s;
      }
      .expand-btn {
        cursor: pointer;
        margin-left: 8px;
        font-size: 1.1em;
        color: #b0b8c1;
        transition: transform 0.2s;
        border-radius: 50%;
        background: rgba(34,211,238,0.08);
        padding: 4px 6px;
        margin-top: 0;
        border: none;
        outline: none;
        transition: background 0.2s, transform 0.2s;
      }
      .expand-btn.expanded {
        transform: rotate(180deg);
      }
      .expand-btn:active {
        background: rgba(34,197,94,0.18);
        transform: scale(1.15);
      }
      .tecnicos-lista {
        display: block;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .tecnicos-lista.active {
        max-height: 400px;
        transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }
      /* Alinhamento dos números de OS dos técnicos */
      #lista_tecnicos li {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 18px;
        margin-bottom: 2px;
      }
      #lista_tecnicos li span:last-child {
        min-width: 22px;
        text-align: right;
        margin-left: 12px;
        display: inline-block;
      }
      /* Lista de técnicos mais bonita */
      #lista_tecnicos {
        margin-top: 10px;
        padding: 0 0 0 0;
      }
      #lista_tecnicos li {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 18px;
        margin-bottom: 7px;
        background: rgba(34,211,238,0.08);
        border-radius: 10px;
        padding: 7px 14px 7px 12px;
        font-size: 1.08em;
        font-weight: 500;
        box-shadow: 0 1px 4px 0 rgba(34,211,238,0.06);
        transition: background 0.2s;
      }
      #lista_tecnicos li:hover {
        background: rgba(34,197,94,0.13);
      }
      #lista_tecnicos li span.nome-tecnico {
        color: #e6e6e6;
        font-weight: 600;
        letter-spacing: 0.5px;
      }
      #lista_tecnicos li span.numero-os {
        min-width: 28px;
        text-align: right;
        margin-left: 18px;
        display: inline-block;
        background: #ffc857;
        color: #22223b;
        font-weight: 800;
        font-size: 1.13em;
        border-radius: 7px;
        padding: 2px 10px;
        box-shadow: 0 1px 4px 0 rgba(34,197,94,0.10);
      }
      /* Overlay para exibir OSs do técnico */
      .overlay-os {
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(16,24,42,0.92);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 48px 0 0 0;
        overflow-y: auto;
      }
      .overlay-os .close-btn {
        position: absolute;
        top: 24px;
        right: 36px;
        background: #ff5c5c;
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 38px;
        height: 38px;
        font-size: 1.5em;
        cursor: pointer;
        box-shadow: 0 2px 8px 0 rgba(34,211,238,0.13);
        transition: background 0.2s;
      }
      .overlay-os .close-btn:hover {
        background: #e53935;
      }
      .overlay-os h2 {
        color: #22d3ee;
        margin-bottom: 18px;
        font-size: 2em;
      }
      .os-container {
        display: flex;
        flex-wrap: wrap;
        gap: 18px;
        justify-content: center;
        width: 100%;
        max-width: 1200px;
      }
      .os-card {
        background: #19213a;
        border-radius: 16px;
        box-shadow: 0 2px 12px 0 rgba(34,211,238,0.10);
        padding: 18px 18px 12px 18px;
        min-width: 260px;
        max-width: 320px;
        flex: 1 1 260px;
        margin-bottom: 18px;
      }
      .os-card h3 {
        margin: 0 0 8px 0;
        color: #22d3ee;
        font-size: 1.1em;
      }
      .os-card .campo {
        margin-bottom: 7px;
      }
      .os-card .campo strong {
        color: #22c55e;
        font-weight: 700;
      }
      .os-card .obs {
        color: #ffc857;
        font-size: 0.98em;
        white-space: pre-line;
      }
    </style>
</head>
<body>
  <div class="header">
    <h1><span style="color:#22a6f2">Security</span> <span style="color:#22c55e">24h</span></h1>
    <p>Dashboard de Monitoramento em Tempo Real</p>
    <div class="atualiza"><i class="fa fa-circle"></i> Aguardando atualização do servidor...</div>
  </div>
  <div class="dashboard">
    <div class="card" id="card_os_atrasadas">
      <div class="card-header">
        <i class="fa fa-exclamation-circle icon" style="color:#ff5c5c"></i>
        <span style="font-weight:700">OSs Pendentes</span>
        <span class="badge badge-critico">Crítico</span>
        <i class="fa fa-chevron-down expand-btn" id="expand-btn-os" title="Expandir"></i>
      </div>
      <div class="valor" id="os_em_atraso">0</div>
      <div class="descricao"><i class="fa fa-info-circle"></i> Ordens de serviço pendentes</div>
      <div class="tecnicos-lista" id="tecnicos-lista">
        <strong style="color:#22d3ee;">Técnicos e OSs Pendentes</strong>
        <ul id="lista_tecnicos"></ul>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        <i class="fa fa-wifi icon" style="color:#ffc857"></i>
        <span style="font-weight:700">Clientes Sem Sinal</span>
        <span class="badge badge-alerta">Alerta</span>
      </div>
      <div class="valor" id="clientes_sem_sinal">0</div>
      <div class="descricao"><i class="fa fa-info-circle"></i> Clientes sem comunicação nos últimos 30 min</div>
    </div>
    <div class="card">
      <div class="card-header">
        <i class="fa fa-database icon" style="color:#22d3ee"></i>
        <span style="font-weight:700">Atualização Cadastral</span>
        <span class="badge badge-metrica">Métrica</span>
      </div>
      <div class="valor percentual" id="percentual_atualizacao">0%</div>
      <div class="progress-bar"><div class="progress" id="progress-bar" style="width:0%"></div></div>
      <div class="descricao"><i class="fa fa-info-circle"></i> Percentual de cadastros atualizados</div>
    </div>
    <div class="card">
      <div class="card-header">
        <i class="fa fa-bullhorn icon" style="color:#ff9800"></i>
        <span style="font-weight:700">Top 5 Disparos</span>
        <span class="badge badge-metrica">Ranking</span>
      </div>
      <ul class="top-list" id="top_disparos"></ul>
      <div class="descricao"><i class="fa fa-info-circle"></i> Clientes com mais disparos</div>
    </div>
    <div class="card">
      <div class="card-header">
        <i class="fa fa-truck-moving icon" style="color:#22d3ee"></i>
        <span style="font-weight:700">Top 5 Deslocamentos</span>
        <span class="badge badge-metrica">Ranking</span>
      </div>
      <ul class="top-list" id="top_deslocamentos"></ul>
      <div class="descricao"><i class="fa fa-info-circle"></i> Clientes com mais deslocamentos</div>
    </div>
    <div class="card">
      <div class="card-header">
        <i class="fa fa-unlock-alt icon" style="color:#e53935"></i>
        <span style="font-weight:700">Top 5 Violados</span>
        <span class="badge badge-metrica">Ranking</span>
      </div>
      <ul class="top-list" id="top_violados"></ul>
      <div class="descricao"><i class="fa fa-info-circle"></i> Clientes com mais violações</div>
    </div>
  </div>
  <script>
    async function atualizarDashboard() {
      try {
        const response = await fetch("https://n8n-n8n-start.gwlcya.easypanel.host/webhook/dashboard", {
          method: "GET",
          headers: { 'Content-Type': 'application/json' },
        });
        if (!response.ok) throw new Error('Erro na resposta do webhook');
        const data = await response.json();
        document.getElementById("clientes_sem_sinal").textContent = data.clientes_sem_sinal;
        document.getElementById("os_em_atraso").textContent = data.os_em_atraso;
        document.getElementById("percentual_atualizacao").textContent = data.percentual_atualizacao;
        let perc = 0;
        if (typeof data.percentual_atualizacao === 'string' && data.percentual_atualizacao.includes('%')) {
          perc = parseInt(data.percentual_atualizacao);
        } else if (!isNaN(data.percentual_atualizacao)) {
          perc = data.percentual_atualizacao;
        }
        document.getElementById("progress-bar").style.width = perc + "%";
        // Atualiza listas de top 5
        function atualizarLista(id, lista) {
          const ul = document.getElementById(id);
          ul.innerHTML = '';
          if (Array.isArray(lista)) {
            lista.slice(0, 5).forEach((item, idx) => {
              const li = document.createElement('li');
              li.textContent = `${idx + 1}. ${item}`;
              ul.appendChild(li);
            });
          }
        }
        atualizarLista("top_disparos", data.clientes_mais_disparos);
        atualizarLista("top_deslocamentos", data.clientes_mais_deslocamentos);
        atualizarLista("top_violados", data.clientes_mais_violados);
      } catch (e) {
        console.error('Erro ao atualizar dashboard:', e);
        setTimeout(atualizarDashboard, 3000);
        return;
      }
      atualizarDashboard();
    }
    atualizarDashboard();

    // Expansão do card de OS Atrasadas
    const expandBtn = document.getElementById('expand-btn-os');
    const cardOs = document.getElementById('card_os_atrasadas');
    const tecnicosLista = document.getElementById('tecnicos-lista');
    let tecnicosAtivo = false;
    let tecnicosAbortController = null;

    expandBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      cardOs.classList.toggle('card-expand');
      tecnicosLista.classList.toggle('active');
      expandBtn.classList.toggle('expanded');
      tecnicosAtivo = tecnicosLista.classList.contains('active');
      if (tecnicosAtivo) {
        carregarTecnicosPendentes();
      } else {
        if (tecnicosAbortController) {
          tecnicosAbortController.abort();
        }
      }
    });

    async function carregarTecnicosPendentes() {
      if (!tecnicosAtivo) return;
      try {
        tecnicosAbortController = new AbortController();
        const response = await fetch('/api/tecnicos_os_pendentes', { signal: tecnicosAbortController.signal });
        if (!response.ok) throw new Error('Erro ao buscar técnicos');
        const data = await response.json();
        const ul = document.getElementById('lista_tecnicos');
        ul.innerHTML = '';
        // Garante que data é um array de objetos com nome e pendentes
        if (Array.isArray(data) && data.length > 0 && data[0].nome !== undefined && data[0].pendentes !== undefined) {
          data.forEach(item => {
            const li = document.createElement('li');
            li.innerHTML = `<span class="nome-tecnico">${item.nome}</span><span class="numero-os">${item.pendentes}</span>`;
            li.style.cursor = 'pointer';
            li.addEventListener('click', function() {
              // Mostra loading no overlay enquanto espera
              mostrarOverlayOS(item.nome, [], true);
              fetch('/api/os_tecnico', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ nome: item.nome })
              })
              .then(resp => {
                if (!resp.ok) throw new Error('Erro ao buscar OSs do técnico');
                return resp.json();
              })
              .then(json => {
                // Garante que sempre será um array
                let listaOS = [];
                if (Array.isArray(json)) {
                  listaOS = json;
                } else if (json && typeof json === 'object' && Object.keys(json).length > 0) {
                  listaOS = [json];
                }
                if (listaOS.length > 0) {
                  mostrarOverlayOS(item.nome, listaOS);
                } else if (json.erro) {
                  mostrarOverlayOS(item.nome, []);
                  const overlay = document.getElementById('overlay-os');
                  overlay.querySelector('.os-container').innerHTML = `<div style=\"color:#ff5c5c;font-size:1.2em\">${json.erro}</div>`;
                } else {
                  mostrarOverlayOS(item.nome, []);
                  const overlay = document.getElementById('overlay-os');
                  overlay.querySelector('.os-container').innerHTML = '<div style="color:#ff5c5c;font-size:1.2em">Nenhuma OS encontrada para este técnico.</div>';
                }
              })
              .catch(() => {
                mostrarOverlayOS(item.nome, []);
                const overlay = document.getElementById('overlay-os');
                overlay.querySelector('.os-container').innerHTML = '<div style="color:#ff5c5c;font-size:1.2em">Erro ao buscar OSs do técnico.</div>';
              });
            });
            ul.appendChild(li);
          });
        } else {
          ul.innerHTML = '<li>Nenhum técnico encontrado</li>';
        }
      } catch (e) {
        if (e.name !== 'AbortError') {
          document.getElementById('lista_tecnicos').innerHTML = '<li>Erro ao carregar técnicos</li>';
        }
      }
    }

    // Função para criar overlay de OSs do técnico
    // Adiciona parâmetro opcional para mostrar loading
    function mostrarOverlayOS(nomeTecnico, listaOS, loading) {
      // Remove overlay anterior se existir
      const old = document.getElementById('overlay-os');
      if (old) old.remove();
      // Cria overlay
      const overlay = document.createElement('div');
      overlay.className = 'overlay-os';
      overlay.id = 'overlay-os';
      overlay.innerHTML = `
        <button class='close-btn' title='Fechar'>&times;</button>
        <h2>OSs do Técnico: <span style='color:#22d3ee'>${nomeTecnico}</span></h2>
        <div class='os-container'></div>
      `;
      document.body.appendChild(overlay);
      // Botão de fechar
      overlay.querySelector('.close-btn').onclick = () => overlay.remove();
      // Preenche as OSs
      const container = overlay.querySelector('.os-container');
      if (loading) {
        container.innerHTML = '<div style="color:#22d3ee;font-size:1.2em">Carregando OSs...</div>';
        return;
      }
      if (!listaOS || listaOS.length === 0) return;
      listaOS.forEach(os => {
        const card = document.createElement('div');
        card.className = 'os-card';
        card.innerHTML = `
          <h3>Cliente Nº: ${os.Cliente}</h3>
          <div class='campo'><strong>Data de Abertura:</strong> ${String(os.DataAbertura).replace(/\"/g, '').replace('T', ' ').replace('.000Z','')}</div>
          <div class='campo'><strong>Técnico:</strong> ${os.Técnico}</div>
          <div class='campo obs'><strong>Observação:</strong><br>${os.Observações}</div>
        `;
        container.appendChild(card);
      });
    }
  </script>
</body>
</html>
